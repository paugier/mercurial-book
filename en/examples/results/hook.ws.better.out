<!-- BEGIN hook.ws.better -->
<screen><prompt>$</prompt> <userinput>cat .hg/hgrc</userinput>
[hooks]
pretxncommit.whitespace = .hg/check_whitespace.py
<prompt>$</prompt> <userinput>echo 'a ' &gt;&gt; a</userinput>
<prompt>$</prompt> <userinput>hg commit -A -m 'add new line with trailing whitespace'</userinput>
a, line 2: trailing whitespace added
commit message saved to .hg/commit.save
transaction abort!
rollback completed
abort: pretxncommit.whitespace hook exited with status 1
<prompt>$</prompt> <userinput>sed -i 's, *$,,' a</userinput>
<prompt>$</prompt> <userinput>hg commit -A -m 'trimmed trailing whitespace'</userinput>
a, line 2: trailing whitespace added
commit message saved to .hg/commit.save
transaction abort!
rollback completed
abort: pretxncommit.whitespace hook exited with status 1
</screen>
<!-- END hook.ws.better -->
