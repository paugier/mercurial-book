<!-- BEGIN mq.tarball.qinit -->
<screen><prompt>$</prompt> <userinput>cd netplug</userinput>
<prompt>$</prompt> <userinput>hg qinit</userinput>
<prompt>$</prompt> <userinput>hg qnew -m 'fix build problem with gcc 4' build-fix.patch</userinput>
<prompt>$</prompt> <userinput>perl -pi -e 's/int addr_len/socklen_t addr_len/' netlink.c</userinput>
<prompt>$</prompt> <userinput>hg qrefresh</userinput>
<prompt>$</prompt> <userinput>hg tip -p</userinput>
changeset:   
tag:         qtip
tag:         build-fix.patch
tag:         tip
tag:         qbase
user:        Bryan O'Sullivan &lt;bos@serpentine.com&gt;

summary:     fix build problem with gcc 4

diff -r  -r  netlink.c


@@ -275,7 +275,7 @@
         exit(1);
     }
 
-    int addr_len = sizeof(addr);
+    socklen_t addr_len = sizeof(addr);
 
     if (getsockname(fd, (struct sockaddr *) &amp;addr, &amp;addr_len) == -1) {
         do_log(LOG_ERR, "Could not get socket details: %m");

</screen>
<!-- END mq.tarball.qinit -->
